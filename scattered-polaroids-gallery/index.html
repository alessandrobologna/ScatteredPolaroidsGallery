<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Summer Recipes</title>
<meta name="description" content="Scattered Polaroids Gallery" />
<meta name="keywords"
	content="scattered polaroids, image gallery, javascript, random rotation, 3d, backface, flat design" />
<meta name="author" content="Codrops" />
<link rel="shortcut icon" href="../favicon.ico">
<link rel="stylesheet" type="text/css" href="css/normalize.css" />
<link rel="stylesheet" type="text/css" href="css/demo.css" />
<link rel="stylesheet" type="text/css" href="css/component.css" />
<script src="js/modernizr.min.js"></script>
</head>
<body>
	<div class="container">
		<!-- Top Navigation -->
		<div class="codrops-top clearfix">
			<a class="codrops-icon codrops-icon-prev"
				href="http://tympanus.net/Development/DotNavigationStyles/"><span>Previous
					Demo</span></a> <span class="right"><a
				class="codrops-icon codrops-icon-drop"
				href="http://tympanus.net/codrops/?p=18402"><span>Back to
						the Codrops Article</span></a></span>
		</div>
		<header class="codrops-header">
			<svg xmlns="http://www.w3.org/2000/svg" width="1000px" height="300px"
				class="polaroid" preserveAspectRatio="xMidYMid meet"
				viewBox="0 0 1000 300">
					<g
					transform="rotate(-9.424738883972168 131.13208007812517,131.28302001953134) ">
				<rect id="svg_6" height="194.264154" width="194.264154" y="34.15094"
					x="34" />
				<rect id="svg_7" height="116.226417" width="152.754719"
					y="56.566035" x="54.754717" /></g>
				<rect id="svg_2" height="0" width="1" y="108" x="123"
					stroke-width="10" stroke="#000000" fill="#ffffff" />
				<g id="svg_10"
					transform="rotate(8.810273170471191 211.13208007812494,164.28302001953114) ">
				<rect id="svg_11" height="194.264154" width="194.264154"
					y="67.15094" x="114" />
				<rect id="svg_12" height="116.226417" width="152.754719"
					y="89.566035" x="134.754717" /></g>
				<g id="svg_13"
					transform="rotate(-14.838730812072754 350.132080078125,168.28302001953125) ">
				<rect id="svg_14" height="194.264154" width="194.264154"
					y="71.15094" x="253" />
				<rect id="svg_15" height="116.226417" width="152.754719"
					y="93.566035" x="273.754717" /></g>
				<g id="svg_16"
					transform="rotate(-1.4553210735321045 476.1320800781219,121.28302001953003) ">
				<rect id="svg_17" height="194.264154" width="194.264154"
					y="24.15094" x="379" />
				<rect id="svg_18" height="116.226417" width="152.754719"
					y="46.566035" x="399.754717" /></g>
				<g id="svg_19"
					transform="rotate(-4.776742458343506 556.1320800781244,176.28302001953122) ">
				<rect id="svg_20" height="194.264154" width="194.264154"
					y="79.15094" x="459" />
				<rect id="svg_21" height="116.226417" width="152.754719"
					y="101.566035" x="479.754717" /></g>
				<g id="svg_22"
					transform="rotate(17.17530059814453 690.1320800781251,163.2830200195312) ">
				<rect id="svg_23" height="194.264154" width="194.264154"
					y="66.15094" x="593" />
				<rect id="svg_24" height="116.226417" width="152.754719"
					y="88.566035" x="613.754717" /></g>
				<g id="svg_25"
					transform="rotate(-9.506031036376953 771.132080078125,177.28302001953094) ">
				<rect id="svg_26" height="194.264154" width="194.264154"
					y="80.15094" x="674" />
				<rect id="svg_27" height="116.226417" width="152.754719"
					y="102.566035" x="694.754717" /></g>
				<g id="svg_28"
					transform="rotate(19.351133346557617 862.1320800781251,137.28302001953148) ">
				<rect id="svg_29" height="194.264154" width="194.264154"
					y="40.15094" x="765" />
				<rect id="svg_30" height="116.226417" width="152.754719"
					y="62.566035" x="785.754717" /></g>
				</g>
				</svg>
			<h1>
				Scattered Polaroids Gallery <span>A flat-style take on a
					Polaroid gallery</span>
			</h1>
		</header>

		<section id="photostack1" class="photostack">
			<div id="photostackCnt"></div>
		</section>
	</div>

	<div id="tmplFigure" style="display: none;">
		<figure>
			<a href="" class="photostack-img"><img src="" alt="img05" /></a>
			<figcaption>
				<h2 class="photostack-title"></h2>
				<div class="photostack-back">
					<p></p>
				</div>
			</figcaption>
		</figure>
	</div>
	<script src="js/classie.js"></script>
	<script src="js/photostack.js"></script>

	<script type="text/javascript"
		src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
	<script type="text/javascript">
		$(document)
				.ready(
						function() {
							var template = $('#tmplFigure figure').clone();

							//var data = [{"link":"http://www.myrecipes.com/recipe/beer-can-chicken-50400000134847/","img":"img/1.jpg","caption":"","desc":"MyRecipes recommends that you make this Beer-Can Chicken recipe from Southern Living"},{"link":"http://www.myrecipes.com/recipe/coconut-chicken-basmati-rice-50400000134177/","img":"http://cdn.media.dev.1bot.co/net/timeinc/myrecipes/img4-1/i/recipes/ck/14/04/coconut-chicken-strips-basmati-rice-ck-l.jpg","caption":"","desc":"MyRecipes recommends that you make this Coconut Chicken Strips and Basmati Rice recipe from Cooking Light"},{"link":"http://www.myrecipes.com/recipe/chicken-honey-lemon-leeks-50400000134182/","img":"http://cdn.media.dev.1bot.co/net/timeinc/myrecipes/img4-2/i/recipes/ck/14/04/braised-chicken-honey-lemon-leeks-ck-l.jpg","caption":"","desc":"Lemon is a bright partner for the caramelized leeks, which cook twice: They are saut&#233;ed, then roasted to meld with the honey and lemon."},{"link":"http://www.myrecipes.com/recipe/chicken-mashed-potatoes-gravy-50400000134727/","img":"http://cdn.media.dev.1bot.co/net/timeinc/myrecipes/img4-3/i/recipes/ck/14/05/chicken-mashed-potatoes-gravy-ck-l.jpg","caption":"","desc":"The gravy is the standout, perfect for stirring into mashed potatoes. Serve with quick-cooking greens like spinach or kale for an easy, family-friendly meal."},{"link":"http://www.myrecipes.com/recipe/chicken-corn-bread-muffins-50400000134169/","img":"http://cdn.media.dev.1bot.co/net/timeinc/myrecipes/img4-1/i/recipes/ck/14/04/chicken-posole-cornbread-muffins-ck-l.jpg","caption":"","desc":"MyRecipes recommends that you make this Chicken Posole and Corn Bread Muffins recipe from Cooking Light"}]

							var url = window.location.href;

							var host = 'http://www.dev.1bot.co';
							$.get(host + '/search.json?order=activity&brand=myrecipes.com&query=summer&limit=15',
											function(data) {
												var array = [];
												$.each(data, function() {
													var desc = this.ingredients ? '<ul>'+this.ingredients.join('<li>') + '</ul>' : this.description
													array.push({
														link : this.link,
														img : host + this.photos[0].uri,
														caption : this.photos[0].caption,														
														desc : desc
													});
												});
												console.log(data);
												//var data = JSON.stringify(array);
												handleData(array);
											}, 'json').fail(function() {
												console.log ('An error occurred.');
									});

							//handleData(data);
							function handleData(data) {
								console.debug(data);

								$('#photostackCnt').empty();
								$.each(data, function(i, obj) {
									var fig = template.clone();
									fig.find('.photostack-img').attr('href',
											obj.link);
									fig.find('.photostack-img img').attr('src',
											obj.img).attr('width', '300');
									fig.find('.photostack-title').append(
											obj.caption);
									if (obj.desc != '') {
										fig.find('.photostack-back p').append(
												obj.desc);
									} else {
										fig.find('.photostack-back').remove();
									}
									$('#photostackCnt').append(fig);
								});

								new Photostack(document
										.getElementById('photostack1'), {
									callback : function(item) {
										//console.log(item)
									}
								});
							}
						});
	</script>
</body>
</html>